<mat-drawer-container class="example-container" [hasBackdrop]="!isDesktop">
  <mat-drawer #drawer [mode]="isDesktop ? 'side' : 'over'" [opened]="!!isDesktop">
    <mat-list>
      <mat-list-item [routerLink]="'dashboard'"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm200-80v-240H200v240h200Zm80 0h280v-240H480v240ZM200-520h560v-240H200v240Z"/></svg><span class="ms-2">Dashboard</span></mat-list-item>
      <mat-list-item [routerLink]="'seat'" *ngIf="canAccess('View seat')"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200Zm80-400h560v-160H200v160Zm213 200h134v-120H413v120Zm0 200h134v-120H413v120ZM200-400h133v-120H200v120Zm427 0h133v-120H627v120ZM200-200h133v-120H200v120Zm427 0h133v-120H627v120Z"/></svg><span class="ms-2">Seat</span></mat-list-item>
      <mat-list-item [routerLink]="'product'" *ngIf="canAccess('View product')"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M200-80q-33 0-56.5-23.5T120-160v-451q-18-11-29-28.5T80-680v-120q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v120q0 23-11 40.5T840-611v451q0 33-23.5 56.5T760-80H200Zm0-520v440h560v-440H200Zm-40-80h640v-120H160v120Zm200 280h240v-80H360v80Zm120 20Z"/></svg><span class="ms-2">Product</span></mat-list-item>
      <mat-list-item [routerLink]="'order'" *ngIf="canAccess('View order')"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M320-280q17 0 28.5-11.5T360-320q0-17-11.5-28.5T320-360q-17 0-28.5 11.5T280-320q0 17 11.5 28.5T320-280Zm0-160q17 0 28.5-11.5T360-480q0-17-11.5-28.5T320-520q-17 0-28.5 11.5T280-480q0 17 11.5 28.5T320-440Zm0-160q17 0 28.5-11.5T360-640q0-17-11.5-28.5T320-680q-17 0-28.5 11.5T280-640q0 17 11.5 28.5T320-600Zm120 320h240v-80H440v80Zm0-160h240v-80H440v80Zm0-160h240v-80H440v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg><span class="ms-2">Order</span></mat-list-item>
      <mat-list-item [routerLink]="'user'" *ngIf="canAccess('View user')"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg><span class="ms-2">User</span></mat-list-item>
      <mat-list-item [routerLink]="'role'" *ngIf="canAccess('View role')"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"/></svg><span class="ms-2">Role</span></mat-list-item>
    </mat-list>
    <div class="user-profile w-100">
      @if (this.userInfo && this.userInfo.avatar != null) {
        <img [src]="environment.MINIO_URL + this.userInfo.avatar" alt="" title="">
      } @else {
        <img src="./assets/images/user-blank.svg" alt="" title="">
      }

      <div>
        <p [routerLink]="'profile'" *ngIf="userInfo"
           class="user-name">{{ this.userInfo.lastName + " " + this.userInfo.firstName }}</p>
      </div>
      <button class="border-0 bg-transparent position-absolute end-0" (click)="logout()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/></svg>
      </button>
    </div>
  </mat-drawer>
  <mat-drawer-content>
    <mat-toolbar class="d-flex justify-content-end position-relative shadow">
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon *ngIf="notification" [matBadge]="notification.length" matBadgeColor="warn">
          <span class="material-symbols-outlined">notifications</span>
        </mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <div *ngFor='let ol of notification; let i = index' class="item">
          <a mat-menu-item [routerLink]="['/admin/order/edit']" [queryParams]="{ id: ol.id }">
            <div>
              <span>Order: #{{ ol.id }}</span>
              <span class="ms-4 badge bg-warning">{{ ol.status }}</span>
            </div>
          </a>
        </div>
      </mat-menu>
      @if (!isDesktop) {
        <button mat-icon-button (click)="drawer.toggle()" class="">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">
            <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
          </svg>
        </button>
      }
    </mat-toolbar>

    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>
